{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/services/pixabay.js","components/Modal/Modal.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","App.js","reportWebVitals.js","index.js","components/Searchbar/SearchBar.module.css","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","Searchbar","state","imageName","handleNameChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onPropsSubmit","alert","className","s","onSubmit","this","SearchForm","type","SearchFormButton","reactIcons","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","imageArray","map","image","src","webformatURL","alt","tag","ImageGalleryItemImage","onClick","onImageClick","id","api","fetchImage","page","fetch","then","response","ok","json","Promise","reject","Error","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","onClose","handleOverlayClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","largeImg","largeImageURL","tags","Button","handleClickBtn","ButtonItem","ImageGallery","perPage","error","status","showModal","toggleModal","find","el","prevProps","prevState","ImageAPI","images","hits","length","pageScroll","catch","Query","Loader","color","height","width","App","handleFormSubmit","scrollTo","top","documentElement","scrollHeight","behavior","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.503e72e1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__qZL9G\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2i_QN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__ojV38\",\"Modal\":\"Modal_Modal__1LIHF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ButtonItem\":\"Button_ButtonItem__2zUWj\"};","import { Component } from \"react\";\r\nimport { ImSearch } from \"react-icons/im\";\r\nimport s from \"./SearchBar.module.css\";\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    imageName: \"\",\r\n  };\r\n\r\n  handleNameChange = (event) => {\r\n    this.setState({ imageName: event.currentTarget.value.toLowerCase()});\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    if (this.state.imageName.trim() === \"\") {\r\n      alert(\"Пожалуйста введите ваш запрос\");\r\n      return;\r\n    }\r\n    this.props.onPropsSubmit(this.state.imageName);\r\n    this.setState({ imageName: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form onSubmit={this.handleSubmit} className={s.SearchForm}>\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <ImSearch className={s.reactIcons} />\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.imageName}\r\n            onChange={this.handleNameChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes={\r\n  onPropsSubmit: PropTypes.func,\r\n}","import { Component } from \"react\";\r\nimport s from \"./ImageGalleryItem.module.css\";\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default class ImageGalleryItem extends Component {\r\n  render() {\r\n    return this.props.imageArray.map((image) => (\r\n      <li className={s.ImageGalleryItem} key={image.id}>\r\n        <img\r\n          src={image.webformatURL}\r\n          alt={image.tag}\r\n          className={s.ImageGalleryItemImage}\r\n          onClick={this.props.onImageClick}\r\n        />\r\n      </li>\r\n    ));\r\n  }\r\n}\r\n\r\nImageGalleryItem.propTypes={\r\n  onImageClick:PropTypes.func,\r\n  imageArray:PropTypes.array,\r\n}\r\n","export function fetchImage(imageName, page) {\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${imageName}&page=${page}&key=23276068-4a413a2f7a08bb1d67038a93d&image_type=photo&orientation=horizontal&per_page=12`\r\n  ).then((response) => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n    return Promise.reject(new Error(`There are no images called ${imageName}`));\r\n  });\r\n}\r\n\r\nconst api = { fetchImage };\r\nexport default api;\r\n","import { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport s from \"./Modal.module.css\";\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nexport default class Modal extends Component {\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.handleKeyDown)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', this.handleKeyDown)\r\n    }\r\n\r\n    handleKeyDown = e => {\r\n        if(e.code === 'Escape') {\r\n            this.props.onClose();\r\n        }\r\n    }\r\n\r\n    handleOverlayClick = event => {\r\n        if(event.currentTarget === event.target) {\r\n            this.props.onClose();\r\n        }\r\n    }\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.handleOverlayClick}>\r\n        <div className={s.Modal}>\r\n          <img src={this.props.largeImg.largeImageURL} alt={this.props.tags} />\r\n        </div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes={\r\n  toggleModal:PropTypes.func,\r\n  largeImg: PropTypes.object,\r\n}","import s from \"./Button.module.css\";\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function Button({ handleClickBtn }) {\r\n  return (\r\n    <button type=\"button\" className={s.ButtonItem} onClick={handleClickBtn}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes={\r\n  handleClickBtn: PropTypes.func,\r\n}\r\n","import { Component } from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport ImageAPI from \"../services/pixabay\";\r\nimport Modal from \"../Modal/Modal\";\r\nimport Button from \"../Button/Button\";\r\nimport s from \"./ImageGallery.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default class ImageGallery extends Component {\r\n  state = {\r\n    page: 1,\r\n    perPage: 12,\r\n    imageArray: [],\r\n    error: null,\r\n    status: \"idle\",\r\n    showModal: false,\r\n    largeImg: null,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { page, perPage } = this.state;\r\n    const { imageName } = this.props;\r\n\r\n    if (prevProps.imageName !== imageName) {\r\n      this.setState({ imageArray: [], page: 1, status: \"pending\" });\r\n    }\r\n    if (prevProps.imageName !== imageName || prevState.page !== page) {\r\n      this.setState({ status: \"pending\" });\r\n\r\n      // eslint-disable-next-line\r\n      ImageAPI.fetchImage(imageName, page, perPage)\r\n        .then(({ hits }) => {\r\n          const images = hits.map(\r\n            ({ id, webformatURL, largeImageURL, tags }) => {\r\n              return { id, webformatURL, largeImageURL, tags };\r\n            }\r\n          );\r\n          // console.log(images);\r\n          if (images.length > 0) {\r\n            this.setState((prevState) => {\r\n              return {\r\n                imageArray: [...prevState.imageArray, ...images],\r\n                status: \"resolved\",\r\n              };\r\n            });\r\n            this.props.pageScroll();\r\n          } else {\r\n            this.setState({ status: \"rejected\" });\r\n          }\r\n        })\r\n        .catch((error) => this.setState({ status: \"rejected\" }));\r\n    }\r\n  }\r\n\r\n  handleClickBtn = () => {\r\n    this.setState(({ page }) => {\r\n      return {\r\n        page: page + 1,\r\n        status: \"pending\",\r\n      };\r\n    });\r\n  };\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n    }));\r\n  };\r\n\r\n  onImageClick = (e) => {\r\n    e.preventDefault();\r\n    let src = e.target.src;\r\n    this.setState({\r\n      largeImg: this.state.imageArray.find((el) => el.webformatURL === src),\r\n    });\r\n    this.toggleModal();\r\n  };\r\n\r\n  render() {\r\n    const { status, imageArray, showModal, largeImg } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        {status === \"idle\" && (\r\n          <div className={s.Query}>Please enter your query!</div>\r\n        )}\r\n        {status === \"pending\" && (\r\n          <Loader\r\n            className={s.Loader}\r\n            type=\"Circles\"\r\n            color=\"#d5e215\"\r\n            height={100}\r\n            width={100}\r\n          />\r\n        )}\r\n        {status === \"rejected\" && (\r\n          <h1 className={s.Query}>Something was wrong please try again!</h1>\r\n        )}\r\n        <ul className={s.ImageGallery}>\r\n          <ImageGalleryItem\r\n            imageArray={imageArray}\r\n            onImageClick={this.onImageClick}\r\n          />\r\n        </ul>\r\n        <Button handleClickBtn={this.handleClickBtn} />\r\n        {showModal && (\r\n          <Modal onClose={this.toggleModal} largeImg={largeImg}></Modal>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  imageName: PropTypes.string,\r\n  pageScroll: PropTypes.func,\r\n};\r\n","import \"./App.css\";\nimport { Component } from \"react\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\n\nexport default class App extends Component {\n  state = {\n    imageName: \"\",\n  };\n\n  handleFormSubmit = (imageName) => {\n    this.setState({ imageName });\n  };\n\n  pageScroll() {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <Searchbar onPropsSubmit={this.handleFormSubmit} />\n        <ImageGallery\n          imageName={this.state.imageName}\n          pageScroll={this.pageScroll}\n        />\n      </div>\n    );\n  }\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__3eCtC\",\"SearchForm\":\"SearchBar_SearchForm__3ELIo\",\"SearchFormButton\":\"SearchBar_SearchFormButton__22Y73\",\"SearchFormButton-label\":\"SearchBar_SearchFormButton-label__R8fX9\",\"SearchFormInput\":\"SearchBar_SearchFormInput__3VCjm\",\"reactIcons\":\"SearchBar_reactIcons__1sIv3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__46k_T\",\"Query\":\"ImageGallery_Query__wOy-P\",\"Loader\":\"ImageGallery_Loader__1J1Su\"};"],"sourceRoot":""}